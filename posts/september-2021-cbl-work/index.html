<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>September 2021 ClangBuiltLinux Work | Nathan Chancellor</title>
<meta name="keywords" content="clangbuiltlinux, linux, linuxfoundation, maintainer">
<meta name="description" content="Linux kernel patches


tools: compiler-gcc.h: Guard error attribute use with __has_attribute (v1): The minimum version of GCC was raised to 5.1, which helped simplify a lot of code but caused issues for older versions of clang. This helps resolve it.


Harden clang against unknown flag options (v2): A follow up.


ptp: ocp: Avoid operator precedence warning in ptp_ocp_summary_show() (v1, v2): An interesting warning around operator precedence, which will not be an issue in practice but now that Linus has decreed that warnings are unacceptable, it is important to clean them up!">
<meta name="author" content="Nathan Chancellor">
<link rel="canonical" href="https://nathanchance.dev/posts/september-2021-cbl-work/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://nathanchance.dev/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://nathanchance.dev/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://nathanchance.dev/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://nathanchance.dev/apple-touch-icon.png">
<link rel="mask-icon" href="https://nathanchance.dev/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://nathanchance.dev/posts/september-2021-cbl-work/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://nathanchance.dev/posts/september-2021-cbl-work/">
  <meta property="og:site_name" content="Nathan Chancellor">
  <meta property="og:title" content="September 2021 ClangBuiltLinux Work">
  <meta property="og:description" content="Linux kernel patches tools: compiler-gcc.h: Guard error attribute use with __has_attribute (v1): The minimum version of GCC was raised to 5.1, which helped simplify a lot of code but caused issues for older versions of clang. This helps resolve it.
Harden clang against unknown flag options (v2): A follow up.
ptp: ocp: Avoid operator precedence warning in ptp_ocp_summary_show() (v1, v2): An interesting warning around operator precedence, which will not be an issue in practice but now that Linus has decreed that warnings are unacceptable, it is important to clean them up!">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-09-30T10:00:00-07:00">
    <meta property="article:modified_time" content="2021-09-30T10:00:00-07:00">
    <meta property="article:tag" content="Clangbuiltlinux">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Linuxfoundation">
    <meta property="article:tag" content="Maintainer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="September 2021 ClangBuiltLinux Work">
<meta name="twitter:description" content="Linux kernel patches


tools: compiler-gcc.h: Guard error attribute use with __has_attribute (v1): The minimum version of GCC was raised to 5.1, which helped simplify a lot of code but caused issues for older versions of clang. This helps resolve it.


Harden clang against unknown flag options (v2): A follow up.


ptp: ocp: Avoid operator precedence warning in ptp_ocp_summary_show() (v1, v2): An interesting warning around operator precedence, which will not be an issue in practice but now that Linus has decreed that warnings are unacceptable, it is important to clean them up!">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://nathanchance.dev/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "September 2021 ClangBuiltLinux Work",
      "item": "https://nathanchance.dev/posts/september-2021-cbl-work/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "September 2021 ClangBuiltLinux Work",
  "name": "September 2021 ClangBuiltLinux Work",
  "description": "Linux kernel patches tools: compiler-gcc.h: Guard error attribute use with __has_attribute (v1): The minimum version of GCC was raised to 5.1, which helped simplify a lot of code but caused issues for older versions of clang. This helps resolve it.\nHarden clang against unknown flag options (v2): A follow up.\nptp: ocp: Avoid operator precedence warning in ptp_ocp_summary_show() (v1, v2): An interesting warning around operator precedence, which will not be an issue in practice but now that Linus has decreed that warnings are unacceptable, it is important to clean them up!\n",
  "keywords": [
    "clangbuiltlinux", "linux", "linuxfoundation", "maintainer"
  ],
  "articleBody": "Linux kernel patches tools: compiler-gcc.h: Guard error attribute use with __has_attribute (v1): The minimum version of GCC was raised to 5.1, which helped simplify a lot of code but caused issues for older versions of clang. This helps resolve it.\nHarden clang against unknown flag options (v2): A follow up.\nptp: ocp: Avoid operator precedence warning in ptp_ocp_summary_show() (v1, v2): An interesting warning around operator precedence, which will not be an issue in practice but now that Linus has decreed that warnings are unacceptable, it is important to clean them up!\nlocking/ww-mutex: Fix uninitialized use of ret in test_aa() (v1): More uninitialized variable usage biting us because GCC’s warning is turned off for the kernel.\nkasan: Always respect CONFIG_KASAN_STACK (v1): Clang’s asan-stack parameter shows high stack usage so it has been disabled but RISC-V’s implementation was not respecting that so this patch resolves that, meaning RISC-V’s allmodconfig target now builds completely clean with clang. asan-stack has been a topic of recent conversation so hopefully that can be resolved soon.\ndrm/kmb: Remove set_test_mode_src_osc_freq_target_{hi,low}_bits() (v1): Intel’s kernel test robot exposed a couple of instances of unused inline functions, which GCC will never warn about. Cleaning up dead code always helps with maintainability in the long run.\ndrm/amd: Guard IS_OLD_GCC assignment with CONFIG_CC_IS_GCC (v1): An instance where clang’s fake GCC version of 4.2.1 caused problems for us. Hopefully as time goes on, we will run into less of these as more people test with clang.\ndrm/amd: Initialize remove_mpcc in dcn201_update_mpcc() (v1): Another uninitialized warning…\ndrm/amd: Return NULL instead of false in dcn201_acquire_idle_pipe_for_layer() (v1): Returning 0 or false when the function returns a pointer will cause a clang warning so that you either use NULL or change the value, just to make sure that is what was intended.\nPatch review and input For the next sections, I link directly to my first response in the thread when possible but there are times where the link is to the main post. My responses can be seen inline by going to the bottom of the thread and clicking on my name.\nReviewing patches that are submitted is incredibly important, as it helps ensure good code quality due to catching mistakes before the patches get accepted and it can help get patches accepted faster, as some maintainers will blindly pick up patches that have been reviewed by someone that they trust.\n9934a5b2ed5aa6e6bbb2e55c3cd98839722c226e breaks x86_64 ThinLTO\nRe: [PATCH] s390/unwind: use current_frame_address() to unwind current task\nRe: [PATCH] fix missing 'sys' package\nRe: [PATCH] Revert \"Enable '-Werror' by default for all kernel builds\"\nRe: [PATCH] lpfc: Fix compilation errors on kernels with no CONFIG_DEBUG_FS\nRe: [PATCH v2] gen_compile_commands: fix missing 'sys' package\nRe: [PATCH v2] lpfc: Fix compilation errors on kernels with no CONFIG_DEBUG_FS\nRe: [PATCH 0/4] Fix stack usage of DML\n[PATCH 00/10] raise minimum GCC version to 5.1\nRe: [PATCH] hardening: Default to INIT_STACK_ALL_ZERO if CC_HAS_AUTO_VAR_INIT_ZERO\nRe: [PATCH] gen_compile_commands: add missing sys import\nRe: [PATCH] powerpc: clean up UPD_CONSTR\nRe: [PATCH] lib/zlib_inflate/inffast: Check config in C to avoid unused function warning\nAdd .config artifact checker\nRe: [PATCH] [RFC/RFT]SCS:Add gcc plugin to support Shadow Call Stack\nRe: [PATCH v3] lib/zlib_inflate/inffast: Check config in C to avoid unused function warning\nRe: [PATCH v2] x86/setup: call early_reserve_memory() earlier\nproblem matcher updates\nRe: [PATCH v2] drm/vc4: Unselect PM\nRe: [PATCH] objtool: Teach get_alt_entry() about more relocation types\nIssue triage and reporting The unfortunate thing about working at the intersection of two projects is we will often find bugs that are not strictly related to the project, which require some triage and reporting back to the original author of the breakage so that they can be fixed and not impact our own testing. Some of these bugs fall into that category while others are issues strictly related to this project.\nRe: kernel/sched/core.c:5854:20: warning: unused function 'sched_core_cpu_deactivate'\nRe: [vmlinux.lds.h] d4c6399900: BUG:unable_to_handle_page_fault_for_address\nRe: [CI-NOTIFY]: TCWG Bisect tcwg_kernel/llvm-master-aarch64-mainline-allyesconfig - Build # 16 - Successful!\nRe: ❌ FAIL: Test report for kernel 5.14.0 (mainline.kernel.org-clang, f1583cb1)\nRe: [GIT PULL v2] Kbuild updates for v5.15-rc1\nRe: [linux-next:master 10023/11721] include/linux/memory_hotplug.h:312:26: warning: unused parameter 'group'\nRe: ❌ FAIL: Test report for kernel 5.14.0 (mainline.kernel.org-clang, 1dbe7e38)\nRe: [PATCH] Enable '-Werror' by default for all kernel builds\nRe: ipv4/tcp.c:4234:1: error: the frame size of 1152 bytes is larger than 1024 bytes [-Werror=frame-larger-than=]\nRe: ERROR: modpost: __mulodi4 [drivers/block/nbd.ko] undefined!\ndrivers/infiniband/hw/qib/qib_sysfs.c:413:1: error: static_assert expression is not an integral constant expression\nRISC-V KASAN does not disable asan-stack\nHigher stack use with KASAN on 32-bit ARM\n-Wframe-larger-than= in drivers/gpu/drm/amd/display/dc/calcs/dce_calcs.c\nRe: [mcgrof-next:20210908-firmware-builtin-v4 2/11] drivers/base/firmware_loader/builtin/main.c:36:6: error: no previous prototype for function 'firmware_is_builtin'\nRe: [dborkman:pr/bpf-cgrp 2/4] include/linux/cgroup-defs.h:771:70: warning: unused parameter 'skcd'\n\"Patch series format unknown\" with mbox file\nRe: linux: build faulure: error: \"__has_attribute\" is not defined\nQEMU 6.1.0 regression with CONFIG_THUMB2_KERNEL\nRe: ❌ FAIL: Test report for kernel 5.15.0-rc1 (mainline.kernel.org-clang, 80be5998)\nRe: clang: error: unsupported argument '-mimplicit-it=always' to option 'Wa,'\nRe: Odd pci_iounmap() declaration rules..\nRe: x86_64: clang-10: :2:2: error: unknown use of instruction mnemonic without a size suffix\nRe: [tip: x86/urgent] x86/setup: Call early_reserve_memory() earlier\nRe: [TCWG CI] Regression caused by linux: parisc: Declare pci_iounmap() parisc version only when CONFIG_PCI enabled\nRe: [Intel-gfx] [PATCH v3 03/13] drm/dp: add LTTPR DP 2.0 DPCD addresses\n[RISCV] Optimize (add (mul x, c0), c1)\nRe: [PATCH v3 1/6] drm/vc4: select PM (openrisc)\nRe: [PATCH v2] platform/x86: amd-pmc: Export Idlemask values based on the APU\nRe: next/master build: 209 builds: 5 failed, 204 passed, 5 errors, 1677 warnings (next-20210923)\nRe: drivers/gpu/drm/kmb/kmb_dsi.c:812:2: warning: unused function 'set_test_mode_src_osc_freq_target_low_bits'\nRe: [v2 PATCH] crypto: api - Fix built-in testing dependency failures\nRe: [PATCH bpf-next 06/13] xsk: optimize for aligned case\nRe: [PATCH v2 2/7] PCI: ACPI: PM: Do not use pci_platform_pm_ops for ACPI\nRe: [PATCH v7] hugetlbfs: Extend the definition of hugepages parameter to support node allocation\nTooling improvements Disable -Werror for pseries_defconfig for now\nCheck matrices for number of jobs\nDisable -Werror for now\ncheck_logs.py: Increase timeout for CONFIG_KASAN (part 2)\nMake mainline green\nDisable CONFIG_CFI_CLANG=y x86_64 builds with clang-12\nA couple of small fixes\nSwitch to directory-based patch management\nDisable boot for CONFIG_KASAN_SW_TAGS=y on clang-11 and clang-12\npatches: Add futex patch to android-mainline\nDisable some builds to make -next green\ncheck_logs.py: Handle equals sign in configuration value\npatches: Update FPU patch to upstream submission\npatches: Remove FPU patch for -next and -tip\ncheck_logs.py: Try multiple times to fetch items with exponential backoff\nAdd problem matchers for depmod, dtc, and modpost\nRemove lto-cfi-tip patches\nBehind the scenes Every day that there is a new linux-next release, I rebase and build a few different kernel trees then boot and runtime test them on several different machines, including a Raspberry Pi 3 and 4, HP desktop, ASUS laptop, and Hyper-V and VMware platforms on my workstation. This is not always visible because I do not report anything unless there is something broken but it can take up to a few hours each day, depending on the amount of churn and issues uncovered.\nThis month, we had a few conferences: the LLVM Distributors Conference, the ClangBuiltLinux meetup, and Linux Plumbers Conference. It was super helpful for interfacing with the greater LLVM and Linux kernel community and reorient ourselves going into the next year. I gave a talk at the ClangBuiltLinux meetup around our continuous integration.\nSpecial thanks to: Google and the Linux Foundation for sponsoring my work. ",
  "wordCount" : "1208",
  "inLanguage": "en",
  "datePublished": "2021-09-30T10:00:00-07:00",
  "dateModified": "2021-09-30T10:00:00-07:00",
  "author":{
    "@type": "Person",
    "name": "Nathan Chancellor"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://nathanchance.dev/posts/september-2021-cbl-work/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Nathan Chancellor",
    "logo": {
      "@type": "ImageObject",
      "url": "https://nathanchance.dev/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://nathanchance.dev/" accesskey="h" title="Nathan Chancellor (Alt + H)">Nathan Chancellor</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://nathanchance.dev/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://nathanchance.dev/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://nathanchance.dev/nc_resume.pdf" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://nathanchance.dev/downloads/" title="Downloads">
                    <span>Downloads</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      September 2021 ClangBuiltLinux Work
    </h1>
    <div class="post-meta"><span title='2021-09-30 10:00:00 -0700 MST'>September 30, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Nathan Chancellor&nbsp;|&nbsp;<a href="https://github.com/nathanchance/hugo-files/blob/main/content/posts/september-2021-cbl-work.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#linux-kernel-patches" aria-label="Linux kernel patches">Linux kernel patches</a></li>
                <li>
                    <a href="#patch-review-and-input" aria-label="Patch review and input">Patch review and input</a></li>
                <li>
                    <a href="#issue-triage-and-reporting" aria-label="Issue triage and reporting">Issue triage and reporting</a></li>
                <li>
                    <a href="#tooling-improvements" aria-label="Tooling improvements">Tooling improvements</a></li>
                <li>
                    <a href="#behind-the-scenes" aria-label="Behind the scenes">Behind the scenes</a></li>
                <li>
                    <a href="#special-thanks-to" aria-label="Special thanks to:">Special thanks to:</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="linux-kernel-patches">Linux kernel patches<a hidden class="anchor" aria-hidden="true" href="#linux-kernel-patches">#</a></h2>
<ul>
<li>
<p><code>tools: compiler-gcc.h: Guard error attribute use with __has_attribute</code> (<a href="https://lore.kernel.org/r/20210913220900.142820-1-nathan@kernel.org/">v1</a>): The minimum version of GCC was raised to 5.1, which helped simplify a lot of code but caused issues for older versions of clang. This helps resolve it.</p>
</li>
<li>
<p><code>Harden clang against unknown flag options</code> (<a href="https://lore.kernel.org/r/20210916184017.1881473-1-nathan@kernel.org/">v2</a>): A follow up.</p>
</li>
<li>
<p><code>ptp: ocp: Avoid operator precedence warning in ptp_ocp_summary_show()</code> (<a href="https://lore.kernel.org/r/20210916194351.3860836-1-nathan@kernel.org/">v1</a>, <a href="https://lore.kernel.org/netdev/20210917045204.1385801-1-nathan@kernel.org/">v2</a>): An interesting warning around operator precedence, which will not be an issue in practice but now that Linus has decreed that warnings are unacceptable, it is important to clean them up!</p>
</li>
<li>
<p><code>locking/ww-mutex: Fix uninitialized use of ret in test_aa()</code> (<a href="https://lore.kernel.org/r/20210922145822.3935141-1-nathan@kernel.org/">v1</a>): More uninitialized variable usage biting us because GCC&rsquo;s warning is turned off for the kernel.</p>
</li>
<li>
<p><code>kasan: Always respect CONFIG_KASAN_STACK</code> (<a href="https://lore.kernel.org/r/20210922205525.570068-1-nathan@kernel.org/">v1</a>): Clang&rsquo;s <code>asan-stack</code> parameter shows high stack usage so it has been disabled but RISC-V&rsquo;s implementation was not respecting that so this patch resolves that, meaning RISC-V&rsquo;s <code>allmodconfig</code> target now builds completely clean with clang. <code>asan-stack</code> has been a topic of <a href="https://github.com/ClangBuiltLinux/linux/issues/39">recent conversation</a> so hopefully that can be resolved soon.</p>
</li>
<li>
<p><code>drm/kmb: Remove set_test_mode_src_osc_freq_target_{hi,low}_bits()</code> (<a href="https://lore.kernel.org/r/20210928192338.1987872-1-nathan@kernel.org/">v1</a>): Intel&rsquo;s kernel test robot exposed a couple of instances of unused inline functions, which GCC will never warn about. Cleaning up dead code always helps with maintainability in the long run.</p>
</li>
<li>
<p><code>drm/amd: Guard IS_OLD_GCC assignment with CONFIG_CC_IS_GCC</code> (<a href="https://lore.kernel.org/r/20210930160142.2301257-1-nathan@kernel.org/">v1</a>): An instance where clang&rsquo;s fake GCC version of 4.2.1 caused problems for us. Hopefully as time goes on, we will run into less of these as more people test with clang.</p>
</li>
<li>
<p><code>drm/amd: Initialize remove_mpcc in dcn201_update_mpcc()</code> (<a href="https://lore.kernel.org/r/20210930161641.2333583-1-nathan@kernel.org/">v1</a>): Another uninitialized warning&hellip;</p>
</li>
<li>
<p><code>drm/amd: Return NULL instead of false in dcn201_acquire_idle_pipe_for_layer()</code> (<a href="https://lore.kernel.org/r/20210930162302.2344542-1-nathan@kernel.org/">v1</a>): Returning 0 or false when the function returns a pointer will cause a clang warning so that you either use NULL or change the value, just to make sure that is what was intended.</p>
</li>
</ul>
<h2 id="patch-review-and-input">Patch review and input<a hidden class="anchor" aria-hidden="true" href="#patch-review-and-input">#</a></h2>
<p>For the next sections, I link directly to my first response in the thread when possible but there are times where the link is to the main post. My responses can be seen inline by going to the bottom of the thread and clicking on my name.</p>
<p>Reviewing patches that are submitted is incredibly important, as it helps ensure good code quality due to catching mistakes before the patches get accepted and it can help get patches accepted faster, as some maintainers will blindly pick up patches that have been reviewed by someone that they trust.</p>
<ul>
<li>
<p><a href="https://github.com/ClangBuiltLinux/linux/issues/1440#issuecomment-911966138"><code>9934a5b2ed5aa6e6bbb2e55c3cd98839722c226e breaks x86_64 ThinLTO</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTKuj0Bu0CJRKqU7@Ryzen-9-3900X.localdomain/"><code>Re: [PATCH] s390/unwind: use current_frame_address() to unwind current task</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTfGXn4cTZ87zTP1@archlinux-ax161/"><code>Re: [PATCH] fix missing 'sys' package</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTfvI2it1G2yBiD%2F@MSI.localdomain/"><code>Re: [PATCH] Revert &quot;Enable '-Werror' by default for all kernel builds&quot;</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTfwjGOHqKY55cwQ@MSI.localdomain/"><code>Re: [PATCH] lpfc: Fix compilation errors on kernels with no CONFIG_DEBUG_FS</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTjt5C7xTqNLUSl%2F@archlinux-ax161/"><code>Re: [PATCH v2] gen_compile_commands: fix missing 'sys' package</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTjxDPsaoeQydKkR@archlinux-ax161/"><code>Re: [PATCH v2] lpfc: Fix compilation errors on kernels with no CONFIG_DEBUG_FS</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTqCWyZ7mXDaJ5HQ@Ryzen-9-3900X.localdomain/"><code>Re: [PATCH 0/4] Fix stack usage of DML</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/20210910234047.1019925-1-ndesaulniers@google.com/"><code>[PATCH 00/10] raise minimum GCC version to 5.1</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/01f572ab-bea2-f246-2f77-2f119056db84@kernel.org/"><code>Re: [PATCH] hardening: Default to INIT_STACK_ALL_ZERO if CC_HAS_AUTO_VAR_INIT_ZERO</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/026a4e82-da46-a559-06d5-18cff798ad96@kernel.org/"><code>Re: [PATCH] gen_compile_commands: add missing sys import</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/c2ebc59f-c14e-d78f-78f0-2204d09cf81c@kernel.org/"><code>Re: [PATCH] powerpc: clean up UPD_CONSTR</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/decede05-591b-b51c-bd5f-d844b1895e54@kernel.org/"><code>Re: [PATCH] lib/zlib_inflate/inffast: Check config in C to avoid unused function warning</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/199"><code>Add .config artifact checker</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUeva0jP7P2qCr&#43;R@archlinux-ax161/"><code>Re: [PATCH] [RFC/RFT]SCS:Add gcc plugin to support Shadow Call Stack</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUishGbHeaDMJDj&#43;@archlinux-ax161/"><code>Re: [PATCH v3] lib/zlib_inflate/inffast: Check config in C to avoid unused function warning</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUlYpWhGCxpJ9diw@archlinux-ax161/"><code>Re: [PATCH v2] x86/setup: call early_reserve_memory() earlier</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/211#issuecomment-925404667"><code>problem matcher updates</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YU3y2AUpnSKHMZOO@archlinux-ax161/"><code>Re: [PATCH v2] drm/vc4: Unselect PM</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YVX0lxyRxZuN1idm@archlinux-ax161/"><code>Re: [PATCH] objtool: Teach get_alt_entry() about more relocation types</code></a></p>
</li>
</ul>
<h2 id="issue-triage-and-reporting">Issue triage and reporting<a hidden class="anchor" aria-hidden="true" href="#issue-triage-and-reporting">#</a></h2>
<p>The unfortunate thing about working at the intersection of two projects is we will often find bugs that are not strictly related to the project, which require some triage and reporting back to the original author of the breakage so that they can be fixed and not impact our own testing. Some of these bugs fall into that category while others are issues strictly related to this project.</p>
<ul>
<li>
<p><a href="https://lore.kernel.org/r/ab74f0f3-a7ea-e525-0725-946b1c754df3@kernel.org/"><code>Re: kernel/sched/core.c:5854:20: warning: unused function 'sched_core_cpu_deactivate'</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTJumKboBddccDUJ@Ryzen-9-3900X.localdomain/"><code>Re: [vmlinux.lds.h]  d4c6399900: BUG:unable_to_handle_page_fault_for_address</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTK4%2F8lnQykNLj%2Fe@Ryzen-9-3900X.localdomain/"><code>Re: [CI-NOTIFY]: TCWG Bisect tcwg_kernel/llvm-master-aarch64-mainline-allyesconfig - Build # 16 - Successful!</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTK7aNSIjU3KmjH8@Ryzen-9-3900X.localdomain/"><code>Re: ❌ FAIL: Test report for kernel 5.14.0 (mainline.kernel.org-clang, f1583cb1)</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/3b461878-a4a0-2f84-e177-9daf8fe285e7@kernel.org/"><code>Re: [GIT PULL v2] Kbuild updates for v5.15-rc1</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/ece61908-f8eb-4c45-5d5f-bfc52f3b8f45@kernel.org/"><code>Re: [linux-next:master 10023/11721] include/linux/memory_hotplug.h:312:26: warning: unused parameter 'group'</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTZyMx91zV9kfDkQ@Ryzen-9-3900X.localdomain/"><code>Re: ❌ FAIL: Test report for kernel 5.14.0 (mainline.kernel.org-clang, 1dbe7e38)</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTbOs13waorzamZ6@Ryzen-9-3900X.localdomain/"><code>Re: [PATCH] Enable '-Werror' by default for all kernel builds</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/92c20b62-c4a7-8e63-4a94-76bdf6d9481e@kernel.org/"><code>Re: ipv4/tcp.c:4234:1: error: the frame size of 1152 bytes is larger than 1024 bytes [-Werror=frame-larger-than=]</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTjrVWaTIA5ZZumW@archlinux-ax161/"><code>Re: ERROR: modpost: __mulodi4 [drivers/block/nbd.ko] undefined!</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/linux/issues/1452"><code>drivers/infiniband/hw/qib/qib_sysfs.c:413:1: error: static_assert expression is not an integral constant expression</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/linux/issues/1453"><code>RISC-V KASAN does not disable asan-stack</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/linux/issues/1454"><code>Higher stack use with KASAN on 32-bit ARM</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/linux/issues/1455"><code>-Wframe-larger-than= in drivers/gpu/drm/amd/display/dc/calcs/dce_calcs.c</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YTwLw&#43;frJLbntgCJ@archlinux-ax161/"><code>Re: [mcgrof-next:20210908-firmware-builtin-v4 2/11] drivers/base/firmware_loader/builtin/main.c:36:6: error: no previous prototype for function 'firmware_is_builtin'</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YT&#43;RqrkQAOVhbkWu@archlinux-ax161/"><code>Re: [dborkman:pr/bpf-cgrp 2/4] include/linux/cgroup-defs.h:771:70: warning: unused parameter 'skcd'</code></a></p>
</li>
<li>
<p><a href="https://gitlab.com/Linaro/tuxsuite/-/issues/132"><code>&quot;Patch series format unknown&quot; with mbox file</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/3bf6f4f4-9c96-6e0c-951d-5509175dddfe@kernel.org/"><code>Re: linux: build faulure: error: &quot;__has_attribute&quot; is not defined</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/linux/issues/1447"><code>QEMU 6.1.0 regression with CONFIG_THUMB2_KERNEL</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUI7UIZvrsfMO716@archlinux-ax161/"><code>Re: ❌ FAIL: Test report for kernel 5.15.0-rc1 (mainline.kernel.org-clang, 80be5998)</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/c3a29fd8-e743-868c-3705-460fd38b7add@kernel.org/"><code>Re: clang: error: unsupported argument '-mimplicit-it=always' to option 'Wa,'</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUeriU9EIJ5hiFjL@archlinux-ax161/"><code>Re: Odd pci_iounmap() declaration rules..</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUgDV31uzAQy5IcN@archlinux-ax161/"><code>Re: x86_64: clang-10: &lt;instantiation&gt;:2:2: error: unknown use of instruction mnemonic without a size suffix</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUkPsjUUtRewyOn3@archlinux-ax161/"><code>Re: [tip: x86/urgent] x86/setup: Call early_reserve_memory() earlier</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUn&#43;MRw4dkxrMouZ@archlinux-ax161/"><code>Re: [TCWG CI] Regression caused by linux: parisc: Declare pci_iounmap() parisc version only when CONFIG_PCI enabled</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUpjj7IwBqMYSR7z@archlinux-ax161/"><code>Re: [Intel-gfx] [PATCH v3 03/13] drm/dp: add LTTPR DP 2.0 DPCD addresses</code></a></p>
</li>
<li>
<p><a href="https://reviews.llvm.org/D108607"><code>[RISCV] Optimize (add (mul x, c0), c1)</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUtQnml8FO8BC7sM@archlinux-ax161/"><code>Re: [PATCH v3 1/6] drm/vc4: select PM (openrisc)</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YUz2t&#43;bdes2I&#43;gMK@archlinux-ax161/"><code>Re: [PATCH v2] platform/x86: amd-pmc: Export Idlemask values based on the APU</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YU0Tgl9qtuItvcxB@archlinux-ax161/"><code>Re: next/master build: 209 builds: 5 failed, 204 passed, 5 errors, 1677 warnings (next-20210923)</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YVNGMg%2FTI&#43;jo%2F1R1@archlinux-ax161/"><code>Re: drivers/gpu/drm/kmb/kmb_dsi.c:812:2: warning: unused function 'set_test_mode_src_osc_freq_target_low_bits'</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YVNfqUVJ7w4Z3WXK@archlinux-ax161/"><code>Re: [v2 PATCH] crypto: api - Fix built-in testing dependency failures</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YVOiCYXTL63R4Mu9@archlinux-ax161/"><code>Re: [PATCH bpf-next 06/13] xsk: optimize for aligned case</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YVS5k1H8KyVAk%2Fh8@archlinux-ax161/"><code>Re: [PATCH v2 2/7] PCI: ACPI: PM: Do not use pci_platform_pm_ops for ACPI</code></a></p>
</li>
<li>
<p><a href="https://lore.kernel.org/r/YVS9VhrAuKE2YdbF@archlinux-ax161/"><code>Re: [PATCH v7] hugetlbfs: Extend the definition of hugepages parameter to support node allocation</code></a></p>
</li>
</ul>
<h2 id="tooling-improvements">Tooling improvements<a hidden class="anchor" aria-hidden="true" href="#tooling-improvements">#</a></h2>
<ul>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/190"><code>Disable -Werror for pseries_defconfig for now</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/191"><code>Check matrices for number of jobs</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/194"><code>Disable -Werror for now</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/195"><code>check_logs.py: Increase timeout for CONFIG_KASAN (part 2)</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/196"><code>Make mainline green</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/198"><code>Disable CONFIG_CFI_CLANG=y x86_64 builds with clang-12</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/tc-build/pull/171"><code>A couple of small fixes</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/203"><code>Switch to directory-based patch management</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/204"><code>Disable boot for CONFIG_KASAN_SW_TAGS=y on clang-11 and clang-12</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/206"><code>patches: Add futex patch to android-mainline</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/207"><code>Disable some builds to make -next green</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/208"><code>check_logs.py: Handle equals sign in configuration value</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/210"><code>patches: Update FPU patch to upstream submission</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/212"><code>patches: Remove FPU patch for -next and -tip</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/214"><code>check_logs.py: Try multiple times to fetch items with exponential backoff</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/215"><code>Add problem matchers for depmod, dtc, and modpost</code></a></p>
</li>
<li>
<p><a href="https://github.com/ClangBuiltLinux/continuous-integration2/pull/216"><code>Remove lto-cfi-tip patches</code></a></p>
</li>
</ul>
<h2 id="behind-the-scenes">Behind the scenes<a hidden class="anchor" aria-hidden="true" href="#behind-the-scenes">#</a></h2>
<ul>
<li>
<p>Every day that there is a new <a href="https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/">linux-next</a> release, I rebase and build a few different kernel trees then boot and runtime test them on several different machines, including a Raspberry Pi 3 and 4, HP desktop, ASUS laptop, and Hyper-V and VMware platforms on my workstation. This is not always visible because I do not report anything unless there is something broken but it can take up to a few hours each day, depending on the amount of churn and issues uncovered.</p>
</li>
<li>
<p>This month, we had a few conferences: <a href="https://github.com/ClangBuiltLinux/llvm-distributors-conf-2021">the LLVM Distributors Conference</a>, <a href="https://github.com/ClangBuiltLinux/CBL-meetup-II-turbo">the ClangBuiltLinux meetup</a>, and <a href="https://linuxplumbersconf.org/">Linux Plumbers Conference</a>. It was super helpful for interfacing with the greater LLVM and Linux kernel community and reorient ourselves going into the next year. I gave a talk at the ClangBuiltLinux meetup around our continuous integration.</p>
</li>
</ul>
<h2 id="special-thanks-to">Special thanks to:<a hidden class="anchor" aria-hidden="true" href="#special-thanks-to">#</a></h2>
<ul>
<li><a href="https://www.google.com/">Google</a> and <a href="https://www.linuxfoundation.org">the Linux Foundation</a> for <a href="https://www.linuxfoundation.org/press/press-release/google-funds-linux-kernel-developers-to-focus-exclusively-on-security">sponsoring my work</a>.</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://nathanchance.dev/tags/clangbuiltlinux/">Clangbuiltlinux</a></li>
      <li><a href="https://nathanchance.dev/tags/linux/">Linux</a></li>
      <li><a href="https://nathanchance.dev/tags/linuxfoundation/">Linuxfoundation</a></li>
      <li><a href="https://nathanchance.dev/tags/maintainer/">Maintainer</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://nathanchance.dev/posts/october-2021-cbl-work/">
    <span class="title">« Prev</span>
    <br>
    <span>October 2021 ClangBuiltLinux Work</span>
  </a>
  <a class="next" href="https://nathanchance.dev/posts/august-2021-cbl-work/">
    <span class="title">Next »</span>
    <br>
    <span>August 2021 ClangBuiltLinux Work</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on x"
            href="https://x.com/intent/tweet/?text=September%202021%20ClangBuiltLinux%20Work&amp;url=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f&amp;hashtags=clangbuiltlinux%2clinux%2clinuxfoundation%2cmaintainer">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f&amp;title=September%202021%20ClangBuiltLinux%20Work&amp;summary=September%202021%20ClangBuiltLinux%20Work&amp;source=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f&title=September%202021%20ClangBuiltLinux%20Work">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on whatsapp"
            href="https://api.whatsapp.com/send?text=September%202021%20ClangBuiltLinux%20Work%20-%20https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on telegram"
            href="https://telegram.me/share/url?text=September%202021%20ClangBuiltLinux%20Work&amp;url=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share September 2021 ClangBuiltLinux Work on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=September%202021%20ClangBuiltLinux%20Work&u=https%3a%2f%2fnathanchance.dev%2fposts%2fseptember-2021-cbl-work%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><div id="disqus_thread"></div>
<script>
    

    

    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://nathanchance.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://nathanchance.dev/">Nathan Chancellor</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
